<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flutter íŒ€ í•¸ë“œë¶</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/dart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- Chosen Palette: Calm Neutrals (Tailwind Slate) with a soft Indigo accent. -->
    <!-- Application Structure Plan: A tab-based single-page application is chosen to organize the handbook into high-level themes: 'Philosophy & Management' and 'Development Standards (SOP)'. A 'Quick Reference' tab provides practical tools. A new 'AI Assistant' tab is added, powered by the Gemini API, to offer interactive, intelligent tools like a Jira ticket generator and code review helper, making the handbook a dynamic aid in the development workflow. -->
    <!-- Visualization & Content Choices: 
        - Jira Hierarchy: Interactive HTML/CSS diagram.
        - Sprint Exception Process: HTML/CSS flowchart.
        - Commit Convention: Interactive Commit Message Builder.
        - Directory Structure: Clickable nested list diagram.
        - âœ¨ AI Jira Ticket Generator: Text Input -> Goal: Automate -> Viz: Markdown Output -> Interaction: User prompt triggers Gemini API -> Justification: Reduces manual work and standardizes ticket creation. -> Library: Gemini API.
        - âœ¨ AI Code Reviewer: Code Input -> Goal: Improve Quality -> Viz: Markdown suggestions -> Interaction: User code + handbook rules prompt Gemini API -> Justification: Reinforces coding standards and educates developers. -> Library: Gemini API.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8fafc;
        }
        .tab-button {
            transition: all 0.3s ease;
        }
        .tab-button.active {
            background-color: #4f46e5;
            color: white;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            transition: all 0.3s ease;
        }
        .card:hover {
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        .accordion-header {
            cursor: pointer;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .accordion-content.open {
            max-height: 2000px; /* Increased max-height for longer content */
        }
        .hierarchy-item {
            cursor: pointer;
        }
        .inline-code {
            background-color: #e2e8f0;
            color: #4338ca;
            font-family: monospace;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
        }
        pre code.hljs {
            border-radius: 0.5rem;
            padding: 1rem;
            font-size: 0.9em;
            line-height: 1.5;
        }
        .ai-output {
            line-height: 1.7; /* Fix for overlapping text */
        }
        .ai-output h1, .ai-output h2, .ai-output h3, .ai-output h4, .ai-output h5, .ai-output h6 {
            font-weight: bold;
            margin-top: 1.25rem;
            margin-bottom: 0.5rem;
        }
        .ai-output h1 { font-size: 1.5rem; }
        .ai-output h2 { font-size: 1.25rem; }
        .ai-output h3 { font-size: 1.1rem; }
        .ai-output p {
            margin-bottom: 1rem;
        }
        .ai-output ul, .ai-output ol {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }
        .ai-output ul {
            list-style-type: disc;
        }
        .ai-output ol {
            list-style-type: decimal;
        }
        .ai-output li {
            margin-bottom: 0.5rem;
        }
        .ai-output strong, .ai-output b {
            font-weight: 700;
        }
        .ai-output em, .ai-output i {
            font-style: italic;
        }
        .ai-output code {
            background-color: #e2e8f0;
            color: #4338ca;
            font-family: monospace;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
        }
        .ai-output pre {
            margin-bottom: 1rem;
        }
        .ai-output pre code {
            display: block;
            background-color: #1e293b;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 0.5rem;
            white-space: pre-wrap;
            font-size: 0.9em;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4f46e5;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="text-slate-800">

    <div class="container mx-auto p-4 md:p-8 max-w-7xl">
        
        <header class="text-center mb-8 md:mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-900">Flutter íŒ€ í•¸ë“œë¶</h1>
            <p class="mt-4 text-lg text-slate-600">ì›ì¹™ë¶€í„° ì‹¤í–‰ê¹Œì§€, ìš°ë¦¬ íŒ€ì˜ ê°œë°œ í‘œì¤€ ê°€ì´ë“œ</p>
        </header>

        <nav class="flex justify-center mb-8">
            <div class="flex space-x-1 md:space-x-2 bg-slate-200 p-2 rounded-full">
                <button class="tab-button active text-sm md:text-base font-semibold py-2 px-4 md:px-6 rounded-full" data-tab="philosophy">ì² í•™ ë° ê´€ë¦¬</button>
                <button class="tab-button text-sm md:text-base font-semibold py-2 px-4 md:px-6 rounded-full" data-tab="sop">ê°œë°œ í‘œì¤€ (SOP)</button>
                <button class="tab-button text-sm md:text-base font-semibold py-2 px-4 md:px-6 rounded-full" data-tab="quick-ref">ë¹ ë¥¸ ì°¸ì¡°</button>
                <button class="tab-button text-sm md:text-base font-semibold py-2 px-4 md:px-6 rounded-full" data-tab="ai-assistant">âœ¨ AI ì–´ì‹œìŠ¤í„´íŠ¸</button>
            </div>
        </nav>

        <main>
            <!-- ì² í•™ ë° ê´€ë¦¬ ì„¹ì…˜ -->
            <section id="philosophy" class="content-section active">
                <div class="text-center mb-10">
                    <h2 class="text-3xl font-bold text-slate-800">Chapter 1: í”„ë¡œì íŠ¸ ì² í•™ ë° ê´€ë¦¬</h2>
                    <p class="mt-2 text-slate-500">ìš°ë¦¬ëŠ” ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ìƒí™©ì— íœ˜ë‘˜ë¦¬ì§€ ì•Šê³ , ì•½ì†í•œ ê²ƒì„ ê¾¸ì¤€íˆ ì „ë‹¬í•˜ë©°, í•¨ê»˜ ì„±ì¥í•˜ëŠ” íŒ€ì„ ì§€í–¥í•©ë‹ˆë‹¤.</p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="card p-6">
                        <h3 class="text-xl font-bold mb-4">1.1. ì‘ì—… ë¶„ë¦¬ì˜ ì›ì¹™ (Jira)</h3>
                        <p class="text-slate-600 mb-4">ëª¨ë“  ì‘ì—…ì€ Jira í‹°ì¼“ìœ¼ë¡œ ê´€ë¦¬í•˜ë©°, ëª©ì ê³¼ ë²”ìœ„ì— ë”°ë¼ ëª…í™•í•˜ê²Œ êµ¬ì¡°í™”í•©ë‹ˆë‹¤. ì•„ë˜ í•­ëª©ì„ í´ë¦­í•˜ì—¬ ì„¤ëª…ì„ í™•ì¸í•˜ì„¸ìš”.</p>
                        <div class="space-y-2 text-left">
                            <div class="hierarchy-item p-3 bg-indigo-50 rounded-lg" data-target="desc-epic">
                                <span class="font-bold text-indigo-800">ì—í”½ (Epic)</span>
                                <p id="desc-epic" class="text-sm text-slate-700 mt-1 hidden">ì—¬ëŸ¬ ìŠ¤í”„ë¦°íŠ¸ì— ê±¸ì³ ì§„í–‰ë  ìˆ˜ ìˆëŠ” í° ê·œëª¨ì˜ ê¸°ëŠ¥ ë¬¶ìŒì…ë‹ˆë‹¤.</p>
                            </div>
                            <div class="pl-4 border-l-2 border-indigo-200">
                                <div class="hierarchy-item p-3 bg-indigo-50 rounded-lg" data-target="desc-story">
                                    <span class="font-bold text-indigo-800">ìŠ¤í† ë¦¬ (Story)</span>
                                    <p id="desc-story" class="text-sm text-slate-700 mt-1 hidden">ì‚¬ìš©ìì—ê²Œ í•˜ë‚˜ì˜ ì™„ê²°ëœ ê°€ì¹˜ë¥¼ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ ë‹¨ìœ„ì…ë‹ˆë‹¤.</p>
                                </div>
                                <div class="pl-4 border-l-2 border-indigo-200">
                                    <div class="hierarchy-item p-3 bg-indigo-50 rounded-lg" data-target="desc-task">
                                        <span class="font-bold text-indigo-800">ì‘ì—… (Task)</span>
                                        <p id="desc-task" class="text-sm text-slate-700 mt-1 hidden">ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ë¡œ í‘œí˜„í•˜ê¸° ì–´ë ¤ìš´ ìˆœìˆ˜ ê¸°ìˆ  ì—…ë¬´ì…ë‹ˆë‹¤.</p>
                                    </div>
                                    <div class="pl-4 border-l-2 border-indigo-200">
                                        <div class="hierarchy-item p-3 bg-indigo-50 rounded-lg" data-target="desc-subtask">
                                            <span class="font-bold text-indigo-800">í•˜ìœ„ ì‘ì—… (Sub-task)</span>
                                            <p id="desc-subtask" class="text-sm text-slate-700 mt-1 hidden">í•˜ë‚˜ì˜ ìŠ¤í† ë¦¬ë¥¼ ì™„ë£Œí•˜ê¸° ìœ„í•œ êµ¬ì²´ì ì¸ ê°œë°œ ë‹¨ê³„ì…ë‹ˆë‹¤.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card p-6">
                        <h3 class="text-xl font-bold mb-4">1.2. í˜„ì‹¤ì ì¸ ê³„íš ìˆ˜ë¦½</h3>
                        <p class="text-slate-600 mb-4">ìš°ë¦¬ëŠ” 'ì‹œê°„'ì´ ì•„ë‹Œ 'ìƒëŒ€ì  í¬ê¸°(ìŠ¤í† ë¦¬ í¬ì¸íŠ¸)'ë¡œ ì‘ì—…ëŸ‰ì„ ì˜ˆì¸¡í•˜ì—¬ ì••ë°•ê°ê³¼ ë¶€ì •í™•ì„±ì„ ì¤„ì…ë‹ˆë‹¤. ë°ì´í„° ê¸°ë°˜ì˜ ê³„íšì„ í†µí•´ íŒ€ì˜ ì§€ì† ê°€ëŠ¥í•œ ì„±ì¥ì„ ì¶”êµ¬í•©ë‹ˆë‹¤.</p>
                        <div class="p-4 bg-slate-50 rounded-lg">
                            <p class="font-semibold text-slate-700">ì†ë„ (Velocity)</p>
                            <p class="text-sm text-slate-600">í•œ ìŠ¤í”„ë¦°íŠ¸ì—ì„œ ìš°ë¦¬ íŒ€ì´ 'ì™„ë£Œ'í•œ ìŠ¤í† ë¦¬ í¬ì¸íŠ¸ì˜ ì´í•©ì…ë‹ˆë‹¤. ì´ëŠ” ë‹¤ìŒ ìŠ¤í”„ë¦°íŠ¸ ê³„íšì˜ ê·¼ê±°ê°€ ë©ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                    <div class="card p-6">
                        <h3 class="text-xl font-bold mb-4">1.3. ìŠ¤í”„ë¦°íŠ¸ ë³´í˜¸ ë° ì˜ˆì™¸ ì²˜ë¦¬</h3>
                        <p class="text-slate-600 mb-4">ìŠ¤í”„ë¦°íŠ¸ëŠ” íŒ€ì˜ ì•½ì†ì´ì ë°©íŒ¨ì…ë‹ˆë‹¤. ì˜ˆìƒì¹˜ ëª»í•œ ì‘ì—… ë°œìƒ ì‹œ, ì•„ë˜ì˜ ì ˆì°¨ì— ë”°ë¼ ì²´ê³„ì ìœ¼ë¡œ ëŒ€ì‘í•©ë‹ˆë‹¤.</p>
                        <div class="space-y-3">
                            <div class="flex items-start">
                                <div class="flex-shrink-0 w-8 h-8 bg-indigo-500 text-white rounded-full flex items-center justify-center font-bold">1</div>
                                <p class="ml-4 text-slate-700"><span class="font-bold">ë°œê²¬ ì¦‰ì‹œ ê³µìœ :</span> ì´ìŠˆë¥¼ ë°œê²¬í•˜ë©´ ì¦‰ì‹œ íŒ€ì— ì•Œë¦¬ê³  Jira í‹°ì¼“ì„ ìƒì„±í•©ë‹ˆë‹¤.</p>
                            </div>
                            <div class="flex items-start">
                                <div class="flex-shrink-0 w-8 h-8 bg-indigo-500 text-white rounded-full flex items-center justify-center font-bold">2</div>
                                <p class="ml-4 text-slate-700"><span class="font-bold">ì˜í–¥ ë¶„ì„:</span> ê¸´ê¸‰ì„±, ì¤‘ìš”ë„, ì˜ˆìƒ ì†Œìš” ì‹œê°„ì„ íŒ€ê³¼ í•¨ê»˜ ë¶„ì„í•©ë‹ˆë‹¤.</p>
                            </div>
                            <div class="flex items-start">
                                <div class="flex-shrink-0 w-8 h-8 bg-indigo-500 text-white rounded-full flex items-center justify-center font-bold">3</div>
                                <p class="ml-4 text-slate-700"><span class="font-bold">ì²˜ë¦¬ ê²°ì •:</span> ë¶„ì„ ê²°ê³¼ì— ë”°ë¼ 'ì¦‰ì‹œ ì²˜ë¦¬', 'ë°±ë¡œê·¸ ì´ë™', ë˜ëŠ” 'ê±°ë˜(Trade-off)'ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ê°œë°œ í‘œì¤€ ì„¹ì…˜ -->
            <section id="sop" class="content-section">
                <div class="text-center mb-10">
                    <h2 class="text-3xl font-bold text-slate-800">Chapter 2: ê°œë°œ í‘œì¤€ ì‘ì—… ì ˆì°¨ (SOP)</h2>
                    <p class="mt-2 text-slate-500">í•˜ë‚˜ì˜ Jira í‹°ì¼“ì„ ì²˜ë¦¬í•˜ëŠ” ì „ì²´ ê³¼ì •ê³¼ ê·¸ ê³¼ì •ì—ì„œ ì§€ì¼œì•¼ í•  ëª¨ë“  ê¸°ìˆ  ê·œì¹™ì…ë‹ˆë‹¤.</p>
                </div>

                <div class="space-y-4">
                    <div class="card">
                        <div class="accordion-header p-6 flex justify-between items-center">
                            <h3 class="text-xl font-bold">2.1. Git & ì»¤ë°‹ ì»¨ë²¤ì…˜</h3>
                            <span class="transform transition-transform duration-300">â–¼</span>
                        </div>
                        <div class="accordion-content px-6 pb-6">
                            <p class="mb-4 text-slate-600">ì¼ê´€ëœ íˆìŠ¤í† ë¦¬ ê´€ë¦¬ë¥¼ ìœ„í•´ ë‹¤ìŒ ê·œì¹™ì„ ì¤€ìˆ˜í•©ë‹ˆë‹¤.</p>
                            <ul class="list-disc list-inside space-y-2 text-slate-700">
                                <li><strong>ë¸Œëœì¹˜ ì „ëµ:</strong> <code class="inline-code">main</code> â†’ <code class="inline-code">dev</code> â†’ <code class="inline-code">feature/í‹°ì¼“ë²ˆí˜¸</code></li>
                                <li><strong>ì»¤ë°‹ ë©”ì‹œì§€ í˜•ì‹:</strong> <code class="inline-code">[í‹°ì¼“ë²ˆí˜¸] íƒ€ì…: ì„¤ëª…</code></li>
                                <li><strong>ì»¤ë°‹ ë©”ì‹œì§€ ìˆ˜ì •:</strong> <code class="inline-code">git commit --amend</code></li>
                                <li><strong>ê°•ì œ ì˜µì…˜ ê¸ˆì§€:</strong> <code class="inline-code">git push -f</code> ë“± ì ˆëŒ€ ì‚¬ìš© ê¸ˆì§€</li>
                            </ul>
                            <div class="mt-4 overflow-x-auto">
                                <table class="w-full text-left border-collapse">
                                    <thead class="bg-slate-100">
                                        <tr>
                                            <th class="p-2 border border-slate-200">íƒ€ì…</th>
                                            <th class="p-2 border border-slate-200">ì„¤ëª…</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr><td class="p-2 border border-slate-200"><code class="inline-code">feat</code></td><td class="p-2 border border-slate-200">ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€</td></tr>
                                        <tr><td class="p-2 border border-slate-200"><code class="inline-code">fix</code></td><td class="p-2 border border-slate-200">ë²„ê·¸ ìˆ˜ì •</td></tr>
                                        <tr><td class="p-2 border border-slate-200"><code class="inline-code">docs</code></td><td class="p-2 border border-slate-200">ë¬¸ì„œ ìˆ˜ì •</td></tr>
                                        <tr><td class="p-2 border border-slate-200"><code class="inline-code">style</code></td><td class="p-2 border border-slate-200">ì½”ë“œ í¬ë§·íŒ… ë“± (ê¸°ëŠ¥ ë³€ê²½ ì—†ìŒ)</td></tr>
                                        <tr><td class="p-2 border border-slate-200"><code class="inline-code">refactor</code></td><td class="p-2 border border-slate-200">ì½”ë“œ ë¦¬íŒ©í† ë§</td></tr>
                                        <tr><td class="p-2 border border-slate-200"><code class="inline-code">test</code></td><td class="p-2 border border-slate-200">í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€/ìˆ˜ì •</td></tr>
                                        <tr><td class="p-2 border border-slate-200"><code class="inline-code">chore</code></td><td class="p-2 border border-slate-200">ë¹Œë“œ, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì„¤ì • ë“±</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="accordion-header p-6 flex justify-between items-center">
                            <h3 class="text-xl font-bold">2.2. ì½”ë“œ ì•„í‚¤í…ì²˜ (Clean Architecture)</h3>
                            <span class="transform transition-transform duration-300">â–¼</span>
                        </div>
                        <div class="accordion-content px-6 pb-6">
                            <p class="mb-4 text-slate-600">ìœ ì§€ë³´ìˆ˜ì™€ í™•ì¥ì´ ìš©ì´í•œ êµ¬ì¡°ë¥¼ ìœ„í•´ í´ë¦° ì•„í‚¤í…ì²˜ë¥¼ ë”°ë¦…ë‹ˆë‹¤.</p>
                            <div class="bg-slate-50 p-4 rounded-lg">
                                <p class="font-semibold text-slate-700 mb-2">ë””ë ‰í† ë¦¬ êµ¬ì¡°</p>
                                <ul class="list-disc list-inside space-y-1 text-sm">
                                    <li><code class="inline-code">lib/common/</code>: ì „ì—­ ìœ„ì ¯, ëª¨ë¸, Provider</li>
                                    <li><code class="inline-code">lib/features/</code>: ê¸°ëŠ¥ ë‹¨ìœ„ ê·¸ë£¹
                                        <ul class="list-disc list-inside ml-4">
                                            <li><code class="inline-code">data/</code>: ë°ì´í„° ì†ŒìŠ¤</li>
                                            <li><code class="inline-code">domain/</code>: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (Usecase)</li>
                                            <li><code class="inline-code">presentation/</code>: UI ë° ìƒíƒœ ê´€ë¦¬ (ViewModel)</li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                             <div class="mt-4 bg-slate-50 p-4 rounded-lg">
                                <p class="font-semibold text-slate-700 mb-2">Riverpod ìƒíƒœ ë¶„ë¦¬ ì›ì¹™</p>
                                <ul class="list-disc list-inside space-y-1 text-sm">
                                    <li><strong>í™”ë©´ ë‹¨ìœ„ ìƒíƒœ:</strong> <code class="inline-code">features/.../view_models/</code>ì— ìœ„ì¹˜. <code class="inline-code">autoDispose</code>ê°€ ê¸°ë³¸.</li>
                                    <li><strong>ì „ì—­/ê³µìœ  ìƒíƒœ:</strong> <code class="inline-code">common/presentation/providers/</code>ì— ìœ„ì¹˜. <code class="inline-code">keepAlive: true</code>ë¡œ ìƒíƒœ ìœ ì§€.</li>
                                </ul>
                            </div>
                            <div class="mt-4">
                                <pre><code class="language-dart">// ì˜ˆì‹œ: ì „ì—­ ìƒíƒœ(Session)ì™€ í™”ë©´ ViewModel(LoginViewModel)ì˜ ìƒí˜¸ì‘ìš©
// 1. ì „ì—­ ìƒíƒœ ì •ì˜
@Riverpod(keepAlive: true)
class Session extends _$Session { ... }

// 2. í™”ë©´ ViewModelì—ì„œ ì „ì—­ ìƒíƒœ ì—…ë°ì´íŠ¸
@riverpod
class LoginViewModel extends _$LoginViewModel {
  Future<void> login(...) async {
    // ... ë¡œê·¸ì¸ ì„±ê³µ í›„ ...
    ref.read(sessionProvider.notifier).login(user);
  }
}

// 3. ë‹¤ë¥¸ í™”ë©´ì—ì„œ ì „ì—­ ìƒíƒœ ì°¸ì¡°
class ProfilePage extends ConsumerWidget {
  Widget build(BuildContext context, WidgetRef ref) {
    final user = ref.watch(sessionProvider);
    // ...
  }
}</code></pre>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="accordion-header p-6 flex justify-between items-center">
                            <h3 class="text-xl font-bold">2.3. ì½”ë”© ìŠ¤íƒ€ì¼ ë° ë„¤ì´ë°</h3>
                            <span class="transform transition-transform duration-300">â–¼</span>
                        </div>
                        <div class="accordion-content px-6 pb-6">
                             <ul class="list-disc list-inside space-y-2 text-slate-700">
                                <li><strong>íŒŒì¼ ì´ë¦„:</strong> <code class="inline-code">snake_case.dart</code></li>
                                <li><strong>ë¹„ê³µê°œ ë©¤ë²„(Private Members):</strong> ì´ë¦„ ì•ì— <code class="inline-code">_</code>ë¥¼ ë¶™ì—¬ í•´ë‹¹ íŒŒì¼ ì™¸ë¶€ì—ì„œì˜ ì ‘ê·¼ì„ ë§‰ìŠµë‹ˆë‹¤. ìº¡ìŠí™”ë¥¼ í†µí•´ ìœ„ì ¯ì´ë‚˜ í´ë˜ìŠ¤ ë‚´ë¶€ì˜ ìƒíƒœì™€ ë¡œì§ì„ ë³´í˜¸í•©ë‹ˆë‹¤.
                                    <div class="mt-2">
                                        <pre><code class="language-dart">// ì˜ˆì‹œ: StatefulWidgetì—ì„œ ë‚´ë¶€ ìƒíƒœ ê´€ë¦¬
class MyCheckbox extends StatefulWidget { ... }

class _MyCheckboxState extends State<MyCheckbox> {
  // _isCheckedëŠ” ì´ State í´ë˜ìŠ¤ ì™¸ë¶€ì—ì„œ ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€
  bool _isChecked = false; 

  // _toggleCheckbox ë©”ì„œë“œ ë˜í•œ ì™¸ë¶€ì—ì„œ ì§ì ‘ í˜¸ì¶œ ë¶ˆê°€
  void _toggleCheckbox() {
    setState(() {
      _isChecked = !_isChecked;
    });
  }
  ...
}</code></pre>
                                    </div>
                                </li>
                                <li><strong>ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìœ„ì ¯(Reusable Widgets):</strong>
                                    <p class="my-2">ìœ„ì ¯ì€ ë…ë¦½ì ì´ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ì‘ì„±í•˜ì—¬ ì¤‘ë³µì„ ì¤„ì´ê³  ì¼ê´€ì„±ì„ ë†’ì…ë‹ˆë‹¤.</p>
                                    <p class="font-semibold mt-2">ë‚˜ìœ ì˜ˆ 1: UI ë°˜ë³µ</p>
                                    <pre><code class="language-dart">// ListView ì•ˆì—ì„œ ë™ì¼í•œ êµ¬ì¡°ì˜ ìœ„ì ¯ì´ ë°˜ë³µë¨
ListView.builder(
  itemCount: users.length,
  itemBuilder: (context, index) {
    // ë³µì¡í•œ ìœ„ì ¯ êµ¬ì¡°ê°€ ì—¬ê¸°ì— ê·¸ëŒ€ë¡œ ë…¸ì¶œë¨
    return Card(
      child: ListTile(
        leading: CircleAvatar(child: Text(users[index].name[0])),
        title: Text(users[index].name),
        subtitle: Text(users[index].email),
      ),
    );
  },
);</code></pre>
                                    <p class="font-semibold mt-2">ì¢‹ì€ ì˜ˆ 1: ìœ„ì ¯ ì¶”ì¶œ</p>
                                    <pre><code class="language-dart">// ë°˜ë³µë˜ëŠ” UIë¥¼ ë³„ë„ì˜ ìœ„ì ¯ìœ¼ë¡œ ì¶”ì¶œ
ListView.builder(
  itemCount: users.length,
  itemBuilder: (context, index) {
    // UserProfileCard ìœ„ì ¯ìœ¼ë¡œ ì±…ì„ì„ ìœ„ì„í•˜ì—¬ ì½”ë“œê°€ ê°„ê²°í•´ì§
    return UserProfileCard(user: users[index]);
  },
);

// ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìœ„ì ¯
class UserProfileCard extends StatelessWidget {
  final User user;
  const UserProfileCard({super.key, required this.user});
  // ... ìœ„ì ¯ êµ¬í˜„
}</code></pre>
                                    <p class="font-semibold mt-4">ë‚˜ìœ ì˜ˆ 2: íŠ¹ì • ìƒíƒœì— ì˜ì¡´</p>
                                    <pre><code class="language-dart">// ìœ„ì ¯ì´ íŠ¹ì • ViewModel Providerë¥¼ ì§ì ‘ ì°¸ì¡°í•¨
class UserAvatar extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    // profileViewModelProviderì— ê°•í•˜ê²Œ ê²°í•©ë˜ì–´ ë‹¤ë¥¸ ê³³ì—ì„œ ì¬ì‚¬ìš© ë¶ˆê°€
    final user = ref.watch(profileViewModelProvider).user;
    return CircleAvatar(backgroundImage: NetworkImage(user.avatarUrl));
  }
}</code></pre>
                                    <p class="font-semibold mt-2">ì¢‹ì€ ì˜ˆ 2: ë°ì´í„° ì£¼ì…</p>
                                    <pre><code class="language-dart">// í•„ìš”í•œ ë°ì´í„°(avatarUrl)ë¥¼ ìƒì„±ìë¥¼ í†µí•´ ì£¼ì…ë°›ìŒ
class UserAvatar extends StatelessWidget {
  final String avatarUrl;
  const UserAvatar({super.key, required this.avatarUrl});

  @override
  Widget build(BuildContext context) {
    // ì£¼ì…ë°›ì€ ë°ì´í„°ë¡œ ìœ„ì ¯ì„ ê·¸ë¦¬ë¯€ë¡œ ì–´ë””ì„œë“  ì¬ì‚¬ìš© ê°€ëŠ¥
    return CircleAvatar(backgroundImage: NetworkImage(avatarUrl));
  }
}</code></pre>
                                </li>
                                <li><strong>ê³µí†µ ìœ„ì ¯:</strong> ì—¬ëŸ¬ í™”ë©´ì—ì„œ ì‚¬ìš©ë  ê³µí†µ ìœ„ì ¯ì€ íŒ€ì¥ê³¼ ìƒì˜ í›„ <code class="inline-code">/common/presentation/widgets</code> í•˜ìœ„ì— <code class="inline-code">app_ìœ„ì ¯ì´ë¦„.dart</code> í˜•ì‹ìœ¼ë¡œ ìƒì„±/ìˆ˜ì •í•©ë‹ˆë‹¤.</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="accordion-header p-6 flex justify-between items-center">
                            <h3 class="text-xl font-bold">2.4. ìì› ë° ë¼ìš°íŒ… ê´€ë¦¬</h3>
                            <span class="transform transition-transform duration-300">â–¼</span>
                        </div>
                        <div class="accordion-content px-6 pb-6">
                            <p class="mb-4 text-slate-600">ì•±ì˜ ìì›ê³¼ ê²½ë¡œë¥¼ ì¤‘ì•™ì—ì„œ ê´€ë¦¬í•˜ì—¬ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ê³  ì¶”í›„ ìœ ì§€ë³´ìˆ˜ë¥¼ ìš©ì´í•˜ê²Œ í•©ë‹ˆë‹¤.</p>
                             <ul class="list-disc list-inside space-y-2 text-slate-700">
                                <li><strong>ì´ë¯¸ì§€:</strong> ëª¨ë“  ì´ë¯¸ì§€ ê²½ë¡œëŠ” <code class="inline-code">/core/constants/app_images.dart</code>ì— <code class="inline-code">static const</code> ë¬¸ìì—´ë¡œ ì •ì˜ í›„ ì°¸ì¡°í•©ë‹ˆë‹¤.</li>
                                <li><strong>ë¬¸ìì—´:</strong> UIì— í‘œì‹œë˜ëŠ” ëª¨ë“  í…ìŠ¤íŠ¸ëŠ” <code class="inline-code">/core/constants/app_strings.dart</code>ì— ì •ì˜ í›„ ì°¸ì¡°í•©ë‹ˆë‹¤. (êµ­ì œí™” ëŒ€ì‘)</li>
                                <li><strong>ê²½ë¡œ ì´ë¦„ (GoRouter):</strong> ëª¨ë“  ë¼ìš°íŠ¸ ê²½ë¡œëŠ” <code class="inline-code">/core/constants/app_routes.dart</code>ì— ì •ì˜í•©ë‹ˆë‹¤.</li>
                                <li><strong>ë¼ìš°í„° ì„¤ì •:</strong> ìƒˆë¡œìš´ í™”ë©´ ì¶”ê°€ ì‹œ, <code class="inline-code">/core/router/router.dart</code> íŒŒì¼ì— <code class="inline-code">GoRoute()</code>ë¥¼ ì¶”ê°€í•˜ì—¬ ê²½ë¡œë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.</li>
                            </ul>
                        </div>
                    </div>

                    <div class="card">
                        <div class="accordion-header p-6 flex justify-between items-center">
                            <h3 class="text-xl font-bold">2.5. í‘œì¤€ ì‘ì—… ì ˆì°¨ (Step-by-Step)</h3>
                            <span class="transform transition-transform duration-300">â–¼</span>
                        </div>
                        <div class="accordion-content px-6 pb-6">
                            <ol class="relative border-l border-slate-200 space-y-8 ml-2 mt-4">
                                <li class="ml-6">
                                    <span class="absolute flex items-center justify-center w-6 h-6 bg-indigo-200 rounded-full -left-3 ring-8 ring-white">1</span>
                                    <h4 class="font-bold">ì‘ì—… ê°€ì ¸ì˜¤ê¸°</h4>
                                    <p class="text-sm text-slate-600">Jira í‹°ì¼“ì„ 'In Progress'ë¡œ ì´ë™í•˜ê³  ì°©ìˆ˜ì¼ì„ ê¸°ë¡í•©ë‹ˆë‹¤.</p>
                                </li>
                                <li class="ml-6">
                                    <span class="absolute flex items-center justify-center w-6 h-6 bg-indigo-200 rounded-full -left-3 ring-8 ring-white">2</span>
                                    <h4 class="font-bold">ì‚¬ì „ í™•ì¸</h4>
                                    <p class="text-sm text-slate-600">ìš”êµ¬ì‚¬í•­, Figma ë””ìì¸, ê³µí†µ ìœ„ì ¯ ì¡´ì¬ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</p>
                                </li>
                                <li class="ml-6">
                                    <span class="absolute flex items-center justify-center w-6 h-6 bg-indigo-200 rounded-full -left-3 ring-8 ring-white">3</span>
                                    <h4 class="font-bold">êµ¬í˜„</h4>
                                    <p class="text-sm text-slate-600">ëª¨ë“  ê°œë°œ ì»¨ë²¤ì…˜ì„ ì¤€ìˆ˜í•˜ì—¬ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.</p>
                                </li>
                                <li class="ml-6">
                                    <span class="absolute flex items-center justify-center w-6 h-6 bg-indigo-200 rounded-full -left-3 ring-8 ring-white">4</span>
                                    <h4 class="font-bold">ì½”ë“œ ì œì¶œ ë° ë¦¬ë·°</h4>
                                    <p class="text-sm text-slate-600">ì»¤ë°‹ í›„ Pull Request(PR)ë¥¼ ìƒì„±í•˜ê³  ë¦¬ë·°ë¥¼ ìš”ì²­í•©ë‹ˆë‹¤.</p>
                                </li>
                                <li class="ml-6">
                                    <span class="absolute flex items-center justify-center w-6 h-6 bg-indigo-200 rounded-full -left-3 ring-8 ring-white">5</span>
                                    <h4 class="font-bold">ì‘ì—… ì™„ë£Œ</h4>
                                    <p class="text-sm text-slate-600">ë¦¬ë·° ìŠ¹ì¸ ë° Merge í›„ Jira í‹°ì¼“ì„ 'Done'ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.</p>
                                </li>
                            </ol>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ë¹ ë¥¸ ì°¸ì¡° ì„¹ì…˜ -->
            <section id="quick-ref" class="content-section">
                <div class="text-center mb-10">
                    <h2 class="text-3xl font-bold text-slate-800">ë¹ ë¥¸ ì°¸ì¡° (Quick Reference)</h2>
                    <p class="mt-2 text-slate-500">ê°€ì¥ ìì£¼ í•„ìš”í•œ ê·œì¹™ê³¼ ë„êµ¬ë¥¼ ë¹ ë¥´ê²Œ í™•ì¸í•˜ì„¸ìš”.</p>
                </div>
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="card p-6">
                        <h3 class="text-xl font-bold mb-4">ì»¤ë°‹ ë©”ì‹œì§€ ë¹Œë”</h3>
                        <p class="text-slate-600 mb-4">ì•„ë˜ í•„ë“œë¥¼ ì±„ì›Œ í‘œì¤€ ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ìƒì„±í•˜ì„¸ìš”.</p>
                        <div class="space-y-4">
                            <div>
                                <label for="ticket-number" class="block text-sm font-medium text-slate-700">í‹°ì¼“ ë²ˆí˜¸ (ì˜ˆ: BA-09)</label>
                                <input type="text" id="ticket-number" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                            </div>
                            <div>
                                <label for="commit-type" class="block text-sm font-medium text-slate-700">ì»¤ë°‹ íƒ€ì…</label>
                                <select id="commit-type" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                    <option>feat</option>
                                    <option>fix</option>
                                    <option>docs</option>
                                    <option>style</option>
                                    <option>refactor</option>
                                    <option>test</option>
                                    <option>chore</option>
                                </select>
                            </div>
                             <div>
                                <label for="commit-desc" class="block text-sm font-medium text-slate-700">ì„¤ëª…</label>
                                <input type="text" id="commit-desc" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                            </div>
                            <button id="generate-commit" class="w-full bg-indigo-600 text-white font-bold py-2 px-4 rounded-md hover:bg-indigo-700 transition-colors">ìƒì„±í•˜ê¸°</button>
                            <div class="mt-4 p-4 bg-slate-100 rounded-md">
                                <p class="text-sm text-slate-500">ìƒì„±ëœ ì»¤ë°‹ ë©”ì‹œì§€:</p>
                                <code id="commit-output" class="block bg-slate-200 p-2 rounded mt-1 text-slate-800 break-words"></code>
                            </div>
                        </div>
                    </div>
                    <div class="card p-6">
                        <h3 class="text-xl font-bold mb-4">ì‹ ê·œ ì‘ì—… ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>
                        <p class="text-slate-600 mb-4">ìƒˆë¡œìš´ ì‘ì—…ì„ ì‹œì‘í•  ë•Œ ì•„ë˜ ì ˆì°¨ë¥¼ ë”°ë¥´ì„¸ìš”.</p>
                        <div class="space-y-3">
                            <label class="flex items-center">
                                <input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                                <span class="ml-3 text-slate-700">Jira í‹°ì¼“ 'In Progress'ë¡œ ì´ë™ ë° ë‹´ë‹¹ì í• ë‹¹</span>
                            </label>
                             <label class="flex items-center">
                                <input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                                <span class="ml-3 text-slate-700"><code class="inline-code">feature/í‹°ì¼“ë²ˆí˜¸</code> ë¸Œëœì¹˜ ìƒì„±</span>
                            </label>
                             <label class="flex items-center">
                                <input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                                <span class="ml-3 text-slate-700">Figma ë° ê³µí†µ ìœ„ì ¯ í™•ì¸</span>
                            </label>
                             <label class="flex items-center">
                                <input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                                <span class="ml-3 text-slate-700">ì•„í‚¤í…ì²˜ ë° ì½”ë”© ìŠ¤íƒ€ì¼ ì¤€ìˆ˜í•˜ë©° êµ¬í˜„</span>
                            </label>
                             <label class="flex items-center">
                                <input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                                <span class="ml-3 text-slate-700">ì»¤ë°‹ ì»¨ë²¤ì…˜ì— ë§ì¶° ì»¤ë°‹</span>
                            </label>
                             <label class="flex items-center">
                                <input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                                <span class="ml-3 text-slate-700">Pull Request ìƒì„± ë° ë¦¬ë·° ìš”ì²­</span>
                            </label>
                             <label class="flex items-center">
                                <input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                                <span class="ml-3 text-slate-700">Merge í›„ Jira í‹°ì¼“ 'Done'ìœ¼ë¡œ ì´ë™</span>
                            </label>
                        </div>
                    </div>
                </div>
            </section>

            <!-- AI ì–´ì‹œìŠ¤í„´íŠ¸ ì„¹ì…˜ -->
            <section id="ai-assistant" class="content-section">
                <div class="text-center mb-10">
                    <h2 class="text-3xl font-bold text-slate-800">âœ¨ AI ì–´ì‹œìŠ¤í„´íŠ¸</h2>
                    <p class="mt-2 text-slate-500">Gemini AIë¥¼ í™œìš©í•˜ì—¬ ê°œë°œ ìƒì‚°ì„±ì„ ë†’ì—¬ë³´ì„¸ìš”.</p>
                </div>

                <div class="card p-6 mb-8 bg-indigo-50 border border-indigo-200">
                    <h3 class="text-xl font-bold mb-4">API í‚¤ ì„¤ì •</h3>
                    <p class="text-slate-600 mb-4">AI ì–´ì‹œìŠ¤í„´íŠ¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë³¸ì¸ì˜ Google AI Studio API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. í‚¤ëŠ” ë¸Œë¼ìš°ì €ì—ë§Œ ì €ì¥ë˜ë©°, ì„œë²„ë¡œ ì „ì†¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
                    <div class="flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-2">
                        <input type="password" id="api-key-input" class="flex-grow w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="API í‚¤ë¥¼ ì—¬ê¸°ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”">
                        <button id="save-api-key" class="w-full sm:w-auto bg-indigo-600 text-white font-bold py-2 px-4 rounded-md hover:bg-indigo-700 transition-colors">ì €ì¥</button>
                    </div>
                    <p id="api-key-status" class="text-sm mt-2 hidden"></p>
                </div>

                <div class="grid md:grid-cols-2 gap-8">
                    <div class="card p-6">
                        <h3 class="text-xl font-bold mb-4">Jira ìŠ¤í† ë¦¬ ìë™ ìƒì„±</h3>
                        <p class="text-slate-600 mb-4">êµ¬í˜„í•  ê¸°ëŠ¥ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ë©´, í•¸ë“œë¶ ê·œì¹™ì— ë§ëŠ” Jira ìŠ¤í† ë¦¬ í‹°ì¼“ ì´ˆì•ˆì„ ìƒì„±í•´ì¤ë‹ˆë‹¤.</p>
                        <div>
                            <label for="jira-prompt" class="block text-sm font-medium text-slate-700">ê¸°ëŠ¥ ì„¤ëª…</label>
                            <textarea id="jira-prompt" rows="4" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="ì˜ˆ: ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•œ ì†Œì…œ ë¡œê·¸ì¸ ê¸°ëŠ¥"></textarea>
                        </div>
                        <button id="generate-jira" class="mt-4 w-full bg-indigo-600 text-white font-bold py-2 px-4 rounded-md hover:bg-indigo-700 transition-colors flex items-center justify-center">
                            <span class="btn-text">ìƒì„±í•˜ê¸°</span>
                            <div class="loader hidden ml-2"></div>
                        </button>
                        <div class="mt-4 p-4 bg-slate-100 rounded-md min-h-[100px]">
                            <p class="text-sm text-slate-500 mb-2">ìƒì„±ëœ Jira í‹°ì¼“:</p>
                            <div id="jira-output" class="ai-output text-sm text-slate-800"></div>
                        </div>
                    </div>
                    <div class="card p-6">
                        <h3 class="text-xl font-bold mb-4">AI ì½”ë“œ ë¦¬ë·°ì–´</h3>
                        <p class="text-slate-600 mb-4">ì‘ì„±í•œ Dart ì½”ë“œë¥¼ ë¶™ì—¬ë„£ìœ¼ë©´, ìš°ë¦¬ íŒ€ì˜ í•¸ë“œë¶ ê·œì¹™ì— ê¸°ë°˜í•˜ì—¬ ê°œì„ ì ì„ ì œì•ˆí•´ì¤ë‹ˆë‹¤.</p>
                        <div>
                            <label for="code-review-input" class="block text-sm font-medium text-slate-700">ë¦¬ë·°í•  Dart ì½”ë“œ</label>
                            <textarea id="code-review-input" rows="10" class="mt-1 block w-full px-3 py-2 bg-slate-800 text-slate-200 font-mono text-sm border border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="class MyWidget extends StatelessWidget { ... }"></textarea>
                        </div>
                        <button id="generate-review" class="mt-4 w-full bg-indigo-600 text-white font-bold py-2 px-4 rounded-md hover:bg-indigo-700 transition-colors flex items-center justify-center">
                            <span class="btn-text">ë¦¬ë·° ìš”ì²­</span>
                            <div class="loader hidden ml-2"></div>
                        </button>
                        <div class="mt-4 p-4 bg-slate-100 rounded-md min-h-[100px]">
                            <p class="text-sm text-slate-500 mb-2">AI ë¦¬ë·° ì½”ë©˜íŠ¸:</p>
                            <div id="review-output" class="ai-output text-sm text-slate-800"></div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            hljs.highlightAll();
            
            const handbookContentForAI = document.documentElement.innerText;

            const tabs = document.querySelectorAll('.tab-button');
            const contents = document.querySelectorAll('.content-section');
            const apiKeyInput = document.getElementById('api-key-input');
            const saveApiKeyBtn = document.getElementById('save-api-key');
            const apiKeyStatus = document.getElementById('api-key-status');

            // Load saved API key from localStorage
            const savedApiKey = localStorage.getItem('geminiApiKey');
            if (savedApiKey) {
                apiKeyInput.value = savedApiKey;
                apiKeyStatus.textContent = 'ì €ì¥ëœ API í‚¤ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.';
                apiKeyStatus.classList.remove('hidden', 'text-red-600');
                apiKeyStatus.classList.add('text-green-600');
            }

            saveApiKeyBtn.addEventListener('click', () => {
                const key = apiKeyInput.value.trim();
                if (key) {
                    localStorage.setItem('geminiApiKey', key);
                    apiKeyStatus.textContent = 'API í‚¤ê°€ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.';
                    apiKeyStatus.classList.remove('hidden', 'text-red-600');
                    apiKeyStatus.classList.add('text-green-600');
                } else {
                    localStorage.removeItem('geminiApiKey');
                    apiKeyStatus.textContent = 'API í‚¤ê°€ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.';
                    apiKeyStatus.classList.remove('hidden', 'text-green-600');
                    apiKeyStatus.classList.add('text-red-600');
                }
                setTimeout(() => apiKeyStatus.classList.add('hidden'), 3000);
            });

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(item => item.classList.remove('active'));
                    tab.classList.add('active');

                    const target = tab.getAttribute('data-tab');
                    contents.forEach(content => {
                        if (content.id === target) {
                            content.classList.add('active');
                        } else {
                            content.classList.remove('active');
                        }
                    });
                });
            });

            const accordions = document.querySelectorAll('.accordion-header');
            accordions.forEach(accordion => {
                accordion.addEventListener('click', () => {
                    const content = accordion.nextElementSibling;
                    const icon = accordion.querySelector('span');
                    
                    content.classList.toggle('open');
                    if(icon) icon.classList.toggle('rotate-180');
                });
            });
            
            const hierarchyItems = document.querySelectorAll('.hierarchy-item');
            hierarchyItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const targetId = item.getAttribute('data-target');
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        targetElement.classList.toggle('hidden');
                    }
                });
            });

            const generateCommitBtn = document.getElementById('generate-commit');
            generateCommitBtn.addEventListener('click', () => {
                const ticket = document.getElementById('ticket-number').value.trim();
                const type = document.getElementById('commit-type').value;
                const desc = document.getElementById('commit-desc').value.trim();
                const output = document.getElementById('commit-output');

                if (!ticket || !desc) {
                    output.textContent = 'í‹°ì¼“ ë²ˆí˜¸ì™€ ì„¤ëª…ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                    return;
                }

                output.textContent = `[${ticket}] ${type}: ${desc}`;
            });

            const generateJiraBtn = document.getElementById('generate-jira');
            const jiraPromptInput = document.getElementById('jira-prompt');
            const jiraOutputDiv = document.getElementById('jira-output');

            generateJiraBtn.addEventListener('click', async () => {
                const apiKey = apiKeyInput.value.trim();
                if (!apiKey) {
                    jiraOutputDiv.innerHTML = '<p class="text-red-600">AI ì–´ì‹œìŠ¤í„´íŠ¸ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € API í‚¤ë¥¼ ì…ë ¥í•˜ê³  ì €ì¥í•´ì£¼ì„¸ìš”.</p>';
                    return;
                }
                const promptText = jiraPromptInput.value.trim();
                if (!promptText) {
                    jiraOutputDiv.innerHTML = '<p>ìƒì„±í•  ê¸°ëŠ¥ì— ëŒ€í•œ ì„¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>';
                    return;
                }

                const fullPrompt = `
                    You are an expert Flutter project manager. Based on the provided team handbook and a user's feature request, create a detailed Jira ticket in KOREAN.
                    The ticket must be structured as a User Story with a clear description, acceptance criteria, and a list of specific sub-tasks for the developer.
                    
                    **Team Handbook Context:**
                    ${handbookContentForAI}

                    **User's Feature Request:**
                    "${promptText}"

                    **Your Task:**
                    Generate a Jira ticket in Markdown format. The structure should be:
                    - **[ìŠ¤í† ë¦¬]** Story Title
                    - **ì„¤ëª…:** A detailed description of the feature from a user's perspective.
                    - **ì™„ë£Œ ì¡°ê±´ (Acceptance Criteria):** A numbered list of conditions that must be met for the story to be considered complete.
                    - **í•˜ìœ„ ì‘ì—… (Sub-tasks):** A list of concrete technical sub-tasks required to implement the story.
                `;

                toggleButtonLoading(generateJiraBtn, true);
                jiraOutputDiv.innerHTML = '';

                try {
                    const resultText = await callGemini(fullPrompt, apiKey);
                    jiraOutputDiv.innerHTML = marked.parse(resultText);
                } catch (error) {
                    console.error('Error calling Gemini API:', error);
                    jiraOutputDiv.innerHTML = '<p class="text-red-600">Jira í‹°ì¼“ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. API í‚¤ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.</p>';
                } finally {
                    toggleButtonLoading(generateJiraBtn, false);
                }
            });

            const generateReviewBtn = document.getElementById('generate-review');
            const codeReviewInput = document.getElementById('code-review-input');
            const reviewOutputDiv = document.getElementById('review-output');

            generateReviewBtn.addEventListener('click', async () => {
                 const apiKey = apiKeyInput.value.trim();
                if (!apiKey) {
                    reviewOutputDiv.innerHTML = '<p class="text-red-600">AI ì–´ì‹œìŠ¤í„´íŠ¸ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € API í‚¤ë¥¼ ì…ë ¥í•˜ê³  ì €ì¥í•´ì£¼ì„¸ìš”.</p>';
                    return;
                }
                const codeText = codeReviewInput.value.trim();
                if (!codeText) {
                    reviewOutputDiv.innerHTML = '<p>ë¦¬ë·°í•  ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>';
                    return;
                }

                const fullPrompt = `
                    You are an expert Flutter developer and a friendly, helpful code reviewer. Your task is to review the provided Dart code snippet based ONLY on the rules and conventions defined in the team's handbook.
                    Provide constructive and encouraging feedback in KOREAN.

                    **Important Context Distinction:**
                    - The handbook states that file names must be snake_case (e.g., 'signup_page.dart').
                    - The handbook implies that class names must be UpperCamelCase, which is a standard Dart convention.
                    - Therefore, when you see \`class SignupPage { ... }\`, you must recognize this as a CLASS declaration, not a file name, and understand that 'SignupPage' correctly follows the UpperCamelCase convention for classes. Do NOT flag correct class names as file name violations.

                    **Team Handbook Context (Your ONLY source of rules):**
                    ${handbookContentForAI}

                    **Code to Review:**
                    \`\`\`dart
                    ${codeText}
                    \`\`\`

                    **Your Task:**
                    Generate a code review in Markdown format using a friendly and emotional tone.
                    - If the code has issues, start with "### ë¦¬ë·°: ì•„ì‰¬ì›Œìš” ğŸ˜­" and then clearly explain the problems. For each issue, specify which rule from the handbook was violated and suggest a corrected version of the code.
                    - If the code follows all the rules perfectly, start with "### ë¦¬ë·°: ì¢‹ì•„ìš”! ğŸ‘" and then praise the developer, specifically mentioning which rules they followed well.
                `;

                toggleButtonLoading(generateReviewBtn, true);
                reviewOutputDiv.innerHTML = '';

                try {
                    const resultText = await callGemini(fullPrompt, apiKey);
                    reviewOutputDiv.innerHTML = marked.parse(resultText);
                    // Re-highlight code blocks within the AI output
                    reviewOutputDiv.querySelectorAll('pre code').forEach((block) => {
                        hljs.highlightElement(block);
                    });
                } catch (error) {
                    console.error('Error calling Gemini API:', error);
                    reviewOutputDiv.innerHTML = '<p class="text-red-600">ì½”ë“œ ë¦¬ë·° ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. API í‚¤ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.</p>';
                } finally {
                    toggleButtonLoading(generateReviewBtn, false);
                }
            });

            function toggleButtonLoading(button, isLoading) {
                const btnText = button.querySelector('.btn-text');
                const loader = button.querySelector('.loader');
                if (isLoading) {
                    button.disabled = true;
                    btnText.classList.add('hidden');
                    loader.classList.remove('hidden');
                } else {
                    button.disabled = false;
                    btnText.classList.remove('hidden');
                    loader.classList.add('hidden');
                }
            }
            
            async function callGemini(prompt, apiKey) {
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API call failed with status: ${response.status}`);
                }

                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    return result.candidates[0].content.parts[0].text;
                } else {
                    throw new Error('Unexpected response format from API.');
                }
            }
        });
    </script>
</body>
</html>
